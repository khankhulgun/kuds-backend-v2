import{C as g}from"./ckeditor.7Mu23GRp.js";import{C as p}from"./ckeditor.YZN8I-MN.js";import{m as b}from"./_mixin.h9E7hkPO.js";import{_ as f,r as n,o as d,k as m,w as h,G as k}from"./entry.MJ5yZK23.js";class y{constructor(t){this.loader=t}upload(){return this.loader.file.then(t=>new Promise((r,i)=>{const l=new FormData;l.append("file",t),k({url:`${window.baseUrl}/lambda/krud/upload`,method:"post",data:l}).then(o=>{o.status===200?r({default:`${window.baseUrl}${o.data}`}):i(o.data.message)}).catch(o=>{console.log(o),i("Upload failed")})}))}abort(){}}function a(e){e.plugins.get("FileRepository").createUploadAdapter=t=>new y(t)}const C={name:"myCKEditor",mixins:[b],components:{ckeditor:g.component},data(){return{editor:p,editorConfig:{toolbar:{items:["heading","|","bold","italic","|","link","|","blockQuote","|","insertTable","|","indent","outdent","|","mediaEmbed","|","bulletedList","numberedList"],shouldNotGroupWhenFull:!0},extraPlugins:[a],placeholder:""}}},created(){this.url&&(window.baseUrl=this.url),this.meta.editorType==="article"?this.editorConfig={toolbar:{items:["heading","|","bold","italic","|","link","|","blockQuote","|","insertTable","|","indent","outdent","|","mediaEmbed"],shouldNotGroupWhenFull:!0},extraPlugins:[a]}:this.meta.editorType==="full"&&(this.editorConfig={toolbar:{items:["undo","redo","|","selectAll","findAndReplace","|","alignment","bold","italic","link","|","linkImage","blockQuote","code","codeBlock","|","fontBackgroundColor","fontColor","fontFamily","fontSize","heading","|","removeHighlight","highlight","|","horizontalLine","htmlEmbed","|","imageTextAlternative","toggleImageCaption","uploadImage","imageInsert","resizeImage","imageStyle:inline","imageStyle:alignLeft","imageStyle:alignRight","imageStyle:alignCenter","imageStyle:alignBlockLeft","imageStyle:alignBlockRight","imageStyle:block","imageStyle:side","imageStyle:wrapText","imageStyle:breakText","|","indent","outdent","|","numberedList","bulletedList","|","pageBreak","removeFormat","|","specialCharacters","restrictedEditingException","strikethrough","subscript","superscript","|","insertTable","tableColumn","tableRow","mergeTableCells","toggleTableCaption","tableCellProperties","tableProperties","|","mediaEmbed","ckfinder","|","sourceEditing"],shouldNotGroupWhenFull:!0},extraPlugins:[a]})},methods:{onBlur(e){},onFocus(e){},onReady(e){}}};function w(e,t,r,i,l,o){const s=n("ckeditor"),u=n("lambda-form-item");return d(),m(u,{label:e.label,name:e.model.component,meta:e.meta},{default:h(()=>[(d(),m(s,{ref:"ckeditor",editor:l.editor,modelValue:e.model.form[e.model.component],"onUpdate:modelValue":t[0]||(t[0]=c=>e.model.form[e.model.component]=c),config:l.editorConfig,key:e.meta.editorType,placeholder:e.placeholder,disabled:e.disabled,onReady:o.onReady,onBlur:o.onBlur,onFocus:o.onFocus},null,8,["editor","modelValue","config","placeholder","disabled","onReady","onBlur","onFocus"]))]),_:1},8,["label","name","meta"])}const E=f(C,[["render",w]]);export{E as default};
