import{_ as y}from"./nuxt-link.VkhsQTov.js";import{_ as F,G as S,r as l,o as c,c as d,a as e,t as u,b as t,w as a,d as C,j as p}from"./entry.MJ5yZK23.js";const E={props:["lambda","onSuccess","selectedLang","onError"],name:"aside-login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:"",password:"",remember:!0}}},computed:{lang(){const s=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return s.reduce((n,m,f)=>(n[m]=this.$t("user."+s[f]),n),{})},getCurrentLanguage(){return this.$i18n.locale}},methods:{onFinish(s){},onFinishFailed(s){},onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,S.post("/auth/login",this.credentials).then(({data:s})=>{s.status?this.onSuccess(s):(this.isError=!0,this.loading=!1)}).catch(s=>{this.loading=!1,this.isError=!0}))}}},N={class:"form-content"},T={class:"space-y-6"},L={class:"loginInput"},U={class:"flex flex-row justify-between space-x-4"},V=e("span",{class:"text-slate-700"},"Намайг сануулах",-1),B={class:"flex items-end justify-between space-x-4"},j={class:"text-sm w-full"},q={id:"msg"},A={key:0,class:"success"},I={key:1,class:"error"},D={class:"space-x-2"},G=e("span",null,"Бүртгэлгүй юу?",-1),M={key:0,class:"btn btn-icon",style:{width:"auto !important"}},R={class:"svg-icon flex items-center space-x-1 text-sm cursor-pointer"},z=e("span",{class:""},"Register instructions",-1),H={key:1,class:"btn btn-icon",style:{width:"auto !important"}},J={class:"svg-icon flex items-center space-x-1 text-sm cursor-pointer"},K=e("span",{class:""},"Бүртгүүлэх заавар",-1);function O(s,n,m,f,i,o){const _=l("font-awesome-icon"),x=l("a-input"),g=l("a-form-item"),b=l("a-input-password"),k=l("a-checkbox"),v=l("a-button"),h=y,w=l("a-form");return c(),d("div",N,[e("h2",null,u(o.lang.loginTitle),1),t(w,{class:"mx-auto",model:i.credentials,layout:"vertical",autocomplete:"off",onFinish:o.onFinish,onFinishFailed:o.onFinishFailed},{default:a(()=>[e("div",T,[e("div",L,[t(g,{name:"login",rules:[{required:!0,message:"Нэвтрэх нэрээ оруулна уу!"}]},{default:a(()=>[t(x,{type:"text",placeholder:o.lang.username,value:i.credentials.login,"onUpdate:value":n[0]||(n[0]=r=>i.credentials.login=r)},{prefix:a(()=>[t(_,{icon:"fa-solid fa-user"})]),_:1},8,["placeholder","value"])]),_:1}),t(g,{name:"password",rules:[{required:!0,message:"Нууц үгээ оруулна уу!"}]},{default:a(()=>[t(b,{placeholder:o.lang.password,value:i.credentials.password,"onUpdate:value":n[1]||(n[1]=r=>i.credentials.password=r)},{prefix:a(()=>[t(_,{icon:"fa-solid fa-lock"})]),_:1},8,["placeholder","value"])]),_:1}),e("div",U,[t(k,{checked:s.checkbox,"onUpdate:checked":n[2]||(n[2]=r=>s.checkbox=r)},{default:a(()=>[V]),_:1},8,["checked"])])]),e("div",B,[t(v,{type:"primary",loading:i.loading,style:{"border-radius":"36px"},onClick:o.onSubmit,"html-type":"submit"},{default:a(()=>[C(u(o.lang.login),1)]),_:1},8,["loading","onClick"]),t(h,{to:"/auth/forgot"},{default:a(()=>[e("span",j,u(o.lang.forgot),1)]),_:1})]),e("div",q,[i.isSuccess?(c(),d("span",A,u(o.lang.loginSuccess),1)):p("",!0),i.isError?(c(),d("span",I,u(o.lang.loginError),1)):p("",!0)]),e("div",D,[G,e("button",{class:"font-bold",onClick:n[3]||(n[3]=(...r)=>s.updateAuthType&&s.updateAuthType(...r))},"Бүртгүүлэх")])])]),_:1},8,["model","onFinish","onFinishFailed"]),t(h,{to:"/register-instructions",target:"_blank",class:"group flex items-start"},{default:a(()=>[o.getCurrentLanguage!=="mn_MN"?(c(),d("span",M,[e("span",R,[t(_,{icon:"fa-solid fa-circle-info"}),z])])):p("",!0),o.getCurrentLanguage!=="en_US"?(c(),d("span",H,[e("span",J,[t(_,{icon:"fa-solid fa-circle-info"}),K])])):p("",!0)]),_:1})])}const W=F(E,[["render",O]]);export{W as default};
